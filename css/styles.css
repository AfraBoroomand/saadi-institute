:root {
  --sand-50: #f8f2e8;
  --sand-100: #efe3d2;
  --sand-200: #e0ceb4;
  --sand-400: #b89a70;
  --ink-900: #2f2a22;
  --ink-700: #4c4438;
  --ink-500: #70675b;
  --line: #d8c7ae;
  --white: #fff;
  --max-width: 1120px;
  --radius: 14px;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; overflow-x: hidden; }
body {
  margin: 0;
  font-family: "Source Sans 3", "Vazirmatn", "Segoe UI", sans-serif;
  line-height: 1.75;
  color: var(--ink-900);
  overflow-x: hidden;
  background:
    radial-gradient(circle at 10% 0%, #efe2cc80, transparent 40%),
    radial-gradient(circle at 90% 30%, #e7d4b680, transparent 42%),
    var(--sand-50);
}

h1, h2, h3 {
  font-family: "Cormorant Garamond", Georgia, serif;
  color: var(--ink-900);
  line-height: 1.2;
  letter-spacing: 0.01em;
}

h1 { font-size: clamp(1.8rem, 3.2vw, 2.7rem); margin: 0 0 1rem; }
h2 { font-size: clamp(1.45rem, 2.6vw, 2.1rem); margin: 0 0 .8rem; }
h3 { font-size: clamp(1.18rem, 2vw, 1.4rem); margin: .2rem 0 .45rem; }

p, li { color: var(--ink-700); }
ul { padding-inline-start: 1.2rem; }
a { color: #564834; text-decoration: underline; text-underline-offset: 3px; }
a:hover { color: #3f3425; }
img { max-width: 100%; display: block; }

.container { width: min(var(--max-width), calc(100% - 2rem)); margin-inline: auto; }
.visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }
.skip-link {
  position: absolute;
  top: .5rem;
  inset-inline-start: .6rem;
  transform: translateX(-140%);
  background: var(--sand-200);
  color: #111;
  padding: .4rem .7rem;
  z-index: 3000;
  border-radius: 6px;
}
.skip-link:focus { transform: translateX(0); }

.site-header {
  position: sticky;
  top: 0;
  z-index: 3000;
  background: linear-gradient(180deg, #f8f1e4 0%, #f2e4ce 100%);
  border-bottom: 1px solid #cdb693;
  box-shadow: 0 10px 28px #5d47250f;
  backdrop-filter: saturate(125%) blur(8px);
}
.header-inner {
  display: flex;
  align-items: center;
  gap: .7rem;
  padding: .65rem 0;
  flex-wrap: wrap;
}
.brand { display: inline-flex; align-items: center; gap: .6rem; color: var(--ink-900); text-decoration: none; font-weight: 700; flex: 0 0 auto; }
.brand img {
  width: auto;
  height: 42px;
  max-width: 168px;
  object-fit: contain;
  border-radius: 6px;
  border: 0;
  background: transparent;
}
.nav-toggle { display: none; }
.main-nav { flex: 1 1 520px; min-width: 260px; }
.main-nav ul { display: flex; flex-wrap: wrap; list-style: none; margin: 0; padding: 0; gap: .35rem .8rem; align-items: center; }
.main-nav a {
  display: inline-block;
  text-decoration: none;
  color: #3f3425;
  font-size: .94rem;
  font-weight: 600;
  padding: .2rem .45rem;
  border-radius: 999px;
}
.main-nav a.active, .main-nav a:hover { color: #2f261b; background: #e7d4b6; text-decoration: none; }
.lang-switch {
  border: 1px solid #bda07a;
  border-radius: 8px;
  background: #fffaf1;
  color: var(--ink-900);
  padding: .35rem .45rem;
  min-width: 7rem;
}

.hero { position: relative; min-height: 68vh; display: grid; align-items: center; overflow: clip; }
.hero-bg { position: absolute; inset: 0; }
.hero-bg img { width: 100%; height: 100%; object-fit: cover; object-position: center; }
.hero::before { content: ""; position: absolute; inset: 0; background: #ffffff2b; }
.hero-content { position: relative; z-index: 1; padding: 7rem 0 5.5rem; max-width: 740px; }
.hero-content h1 { margin-bottom: .4rem; }
.slogan { margin: 0; font-size: clamp(1.05rem, 2vw, 1.35rem); color: var(--ink-900); font-weight: 500; }

.section-block { padding: 3.1rem 0; }
.alt-bg { background: #f1e7d9; border-top: 1px solid #ddccb2; border-bottom: 1px solid #ddccb2; }
.prose-block { max-width: 900px; }
.prose-block p { margin: .4rem 0 .95rem; }

.goal-list { margin: .4rem 0 0; display: grid; gap: .55rem; list-style: none; padding: 0; }
.goal-list li {
  background: #fbf7f0;
  border: 1px solid #dfd1bb;
  border-radius: 10px;
  padding: .62rem .85rem;
  padding-inline-start: 2rem;
  position: relative;
}
.minimal-icons li::before { content: "â€¢"; color: #876943; position: absolute; inset-inline-start: .85rem; font-size: 1.1rem; top: .55rem; }

.split-feature .split-grid { display: grid; grid-template-columns: minmax(280px, 44%) 1fr; gap: 1.25rem; align-items: stretch; }
.split-image img { width: 100%; height: 100%; min-height: 320px; object-fit: cover; border-radius: var(--radius); border: 1px solid var(--line); }
.split-copy { background: #fffdfa; border: 1px solid var(--line); border-radius: var(--radius); padding: 1rem 1.1rem; }

.single-artwork { border: 1px solid var(--line); border-radius: var(--radius); overflow: hidden; background: #f6eee0; }
.single-artwork img { width: 100%; max-height: 560px; object-fit: cover; }
.muted-note { color: var(--ink-500); font-size: .95rem; margin-top: .6rem; }

.contact-banner { position: relative; min-height: 68vh; display: grid; align-items: center; overflow: clip; }
.contact-banner-bg { position: absolute; inset: 0; }
.contact-banner-bg img { width: 100%; height: 100%; object-fit: cover; }
.contact-banner::before { content: ""; position: absolute; inset: 0; background: #ffffff40; }
.contact-card {
  position: relative;
  z-index: 1;
  background: #fffdfa;
  border: 1px solid #d9c8ae;
  border-radius: 16px;
  max-width: 620px;
  padding: 1.15rem 1.25rem;
  box-shadow: 0 10px 28px #644f2d1a;
}
.contact-card details { margin-top: .5rem; }
.contact-card summary { cursor: pointer; font-weight: 600; color: var(--ink-700); }

.site-footer { margin-top: 2rem; background: #e8dac4; border-top: 1px solid var(--line); padding: 1.5rem 0; }
.footer-grid { display: flex; justify-content: space-between; gap: 1rem; flex-wrap: wrap; }
.footer-links { display: flex; gap: .8rem; align-items: center; }

.reveal { opacity: 0; transform: translateY(14px); transition: opacity .4s ease, transform .4s ease; }
.reveal.visible { opacity: 1; transform: none; }
:focus-visible { outline: 3px solid #b99e79; outline-offset: 2px; }

/* Compatibility styles for remaining pages and JS-injected UI */
.card, .newsletter-box, .notice { border: 1px solid var(--line); border-radius: 12px; background: #fffdfa; padding: .9rem; }
.cards-3, .grid-2 { display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.field { margin-bottom: .75rem; }
label { display: block; margin-bottom: .25rem; color: var(--ink-700); font-weight: 600; }
input, textarea { width: 100%; border: 1px solid #ccb89a; border-radius: 8px; padding: .6rem; font: inherit; background: #fff; }
textarea { min-height: 150px; }
.btn { display: inline-block; border-radius: 999px; padding: .5rem .95rem; border: 1px solid #c8b291; text-decoration: none; }
.btn.primary { background: #d2bc99; color: #2e261d; }
.btn.secondary { background: #fdf8ef; color: #3f3425; }
.search-trigger { border: 1px solid #bda07a; background: #fffaf1; color: var(--ink-700); border-radius: 8px; padding: .34rem .55rem; cursor: pointer; }
.search-modal { position: fixed; inset: 0; background: #2e261d55; z-index: 4000; display: grid; place-items: start center; padding-top: 8vh; }
.search-modal[hidden] { display: none; }
.search-panel { background: #fffdfa; width: min(700px, 92%); border-radius: 12px; padding: 1rem; border: 1px solid var(--line); }
.search-head { display: flex; justify-content: space-between; align-items: center; gap: .8rem; }
.search-hit { border-top: 1px solid #ebdeca; padding: .6rem 0; }
.lang-buttons { display: inline-flex; gap: .3rem; margin-inline-start: .35rem; }
.lang-btn { text-decoration: none; border: 1px solid #cfbc9f; padding: .24rem .5rem; border-radius: 7px; color: var(--ink-700); font-size: .82rem; }
.lang-btn.active { background: #d6c19f; color: #2f271f; }
body.modal-open { overflow: hidden; }

.a11y-trigger {
  border: 1px solid #bda07a;
  background: #fffaf1;
  color: var(--ink-700);
  border-radius: 8px;
  padding: .34rem .55rem;
  cursor: pointer;
}
.a11y-panel {
  position: fixed;
  inset-inline-end: .5rem;
  inset-inline-start: auto;
  top: 5.4rem;
  width: min(360px, calc(100% - 1rem));
  max-height: calc(100vh - 6.5rem);
  overflow: auto;
  overscroll-behavior: contain;
  z-index: 4100;
  background: #fffdfa;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: .8rem .9rem;
  box-shadow: 0 18px 36px #5d47251f;
  text-wrap: pretty;
}
.a11y-panel label {
  display: flex;
  gap: .45rem;
  align-items: flex-start;
  margin-bottom: .45rem;
  font-weight: 500;
  line-height: 1.35;
  white-space: normal;
}
.a11y-panel input[type="checkbox"] { flex: 0 0 auto; margin-top: .18rem; }
.a11y-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: .45rem; }
.a11y-close {
  border: 1px solid #ccb89a;
  background: #fdf8ef;
  border-radius: 999px;
  padding: .2rem .6rem;
  cursor: pointer;
}
[dir="rtl"] .a11y-panel {
  inset-inline-end: auto;
  inset-inline-start: .5rem;
  text-align: right;
}

.cta-row { display: flex; flex-wrap: wrap; gap: .65rem; margin-top: 1rem; }
.kpi-grid { display: grid; gap: .8rem; grid-template-columns: repeat(auto-fit, minmax(165px, 1fr)); margin-top: .9rem; }
.kpi-item {
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: .8rem;
  background: #fffdfa;
}
.kpi-item strong {
  display: block;
  font-size: 1.3rem;
  line-height: 1.1;
  margin-bottom: .2rem;
}

.events-tools {
  margin: .9rem 0 1.2rem;
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: .9rem;
  background: #fffdfa;
}
.events-filters {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: .7rem;
  margin-bottom: .85rem;
}
.events-filters select {
  width: 100%;
  border: 1px solid #ccb89a;
  border-radius: 8px;
  padding: .5rem;
  background: #fff;
  font: inherit;
}
.mini-calendar-title { font-weight: 700; margin: .1rem 0 .55rem; }
.mini-calendar-grid {
  width: 100%;
  border-collapse: collapse;
  font-size: .9rem;
}
.mini-calendar-grid th,
.mini-calendar-grid td {
  border: 1px solid #eadbc5;
  text-align: center;
  padding: .3rem;
}
.mini-calendar-grid td.event-day {
  background: #ede2d2;
  color: #4b3f2f;
  font-weight: 600;
}
.mini-calendar-grid td.event-visible {
  background: #d2bc99;
  color: #2f261b;
  font-weight: 700;
}
.mini-calendar-legend { margin: .55rem 0 0; color: var(--ink-500); font-size: .9rem; }

.event-calendar-actions { display: flex; flex-wrap: wrap; gap: .45rem; margin: .3rem 0 .4rem; }

.notice[hidden] { display: none; }

.faq-list { display: grid; gap: .6rem; }
.faq-list details {
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: .5rem .7rem;
  background: #fffdfa;
}
.faq-list summary { cursor: pointer; font-weight: 700; color: var(--ink-700); }

body.a11y-large { font-size: 112%; }
body.a11y-contrast {
  --sand-50: #fffef9;
  --sand-100: #f1e7d3;
  --ink-900: #17120a;
  --ink-700: #221b12;
  --line: #8c734d;
}
body.a11y-contrast a { color: #2f1f06; }
body.a11y-reader .container { width: min(840px, calc(100% - 2rem)); }
body.a11y-reader .hero,
body.a11y-reader .contact-banner { min-height: 40vh; }
body.a11y-reader .hero-bg,
body.a11y-reader .contact-banner-bg { opacity: .2; }

@media (max-width: 960px) {
  .header-inner { gap: .55rem; }
  .main-nav { display: block; width: 100%; order: 3; flex-basis: 100%; min-width: 0; }
  .main-nav ul { gap: .3rem .55rem; padding-top: .2rem; }
  .lang-switch { min-width: 6.2rem; }
  .hero-content { padding: 6rem 0 4.4rem; }
  .split-feature .split-grid { grid-template-columns: 1fr; }
  .a11y-panel {
    top: 7.1rem;
    width: calc(100% - 1rem);
    max-height: calc(100vh - 8rem);
  }
}

@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}
